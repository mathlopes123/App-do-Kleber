<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Aluno</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }
    form {
      background: white;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      border-radius: 8px;
      box-shadow: 0 0 10px #ccc;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    .readonly {
      background-color: #eaeaea;
    }
    button {
      margin-top: 20px;
      padding: 10px 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .cancelar {
      background-color: #ff5733;
    }
    .excluir {
      background-color: #dc3545;
    }
  </style>
</head>
<body>

<form onsubmit="return validarEmail()">
  <h2>Cadastro de Aluno</h2>

  <label for="codigo">Código do Aluno</label>
  <input type="text" id="codigo" class="readonly" readonly>

  <label for="nome">Nome</label>
  <input type="text" id="nome" required>

  <label for="telefone">Telefone</label>
  <input type="text" id="telefone" maxlength="14" placeholder="(xx)xxxxx-xxxx" required>

  <label for="email">E-mail</label>
  <input type="email" id="email" required>

  <label for="turma">Turma</label>
  <select id="turma" required>
    <option value="">Selecione a turma</option>
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
  </select>

  <label for="serie">Série</label>
  <select id="serie" required>
    <option value="">Selecione a série</option>
    <option value="1º Ano">1º Ano</option>
    <option value="2º Ano">2º Ano</option>
    <option value="3º Ano">3º Ano</option>
  </select>

  <label for="cep">CEP</label>
  <input type="text" id="cep" maxlength="9" placeholder="xxxxx-xxx" required>

  <label for="endereco">Endereço</label>
  <input type="text" id="endereco" required>

  <button type="submit">Cadastrar</button>
  <button type="button" class="excluir" onclick="excluirCadastro()">Excluir</button>
  <button type="button" class="cancelar" onclick="cancelarCadastro()">Cancelar</button>
</form>

<script>
  // Gera código único numérico
  function gerarCodigoAluno() {
    const codigo = Math.floor(Math.random() * 1000000000);  // Gerar um número de 9 dígitos
    document.getElementById('codigo').value = codigo;
  }

  // Máscara telefone
  document.getElementById('telefone').addEventListener('input', function(e) {
    let v = e.target.value.replace(/\D/g, '');
    if (v.length > 11) v = v.slice(0, 11);
    v = v.replace(/^(\d{2})(\d{5})(\d{4})$/, '($1)$2-$3');
    e.target.value = v;
  });

  // Validação de e-mail com @
  function validarEmail() {
    const email = document.getElementById('email').value;
    if (!email.includes('@')) {
      alert('E-mail inválido: falta o "@"');
      return false;
    }
    alert('Cadastro realizado com sucesso!');
    return true;
  }

  // Função para excluir o cadastro (simulação)
  function excluirCadastro() {
    if (confirm('Tem certeza que deseja excluir este cadastro?')) {
      alert('Cadastro excluído com sucesso!');
      limparCampos();
    }
  }

  // Função para cancelar o cadastro (limpar os campos)
  function cancelarCadastro() {
    if (confirm('Tem certeza que deseja cancelar o cadastro?')) {
      limparCampos();
    }
  }

  // Limpar campos do formulário
  function limparCampos() {
    document.getElementById('nome').value = '';
    document.getElementById('telefone').value = '';
    document.getElementById('email').value = '';
    document.getElementById('turma').value = '';
    document.getElementById('serie').value = '';
    document.getElementById('cep').value = '';
    document.getElementById('endereco').value = '';
    gerarCodigoAluno();  // Gerar um novo código
  }

  // Gera código ao abrir
  window.onload = gerarCodigoAluno;
</script>

</body>
</html>
